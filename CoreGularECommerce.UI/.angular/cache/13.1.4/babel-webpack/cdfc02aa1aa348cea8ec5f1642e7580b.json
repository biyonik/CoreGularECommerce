{"ast":null,"code":"import _asyncToGenerator from \"I:\\\\Projects\\\\NetCore\\\\CoreGularECommerce\\\\CoreGularECommerce.UI\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { firstValueFrom } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../http-client.service\";\nexport class ProductService {\n  constructor(httpClientService) {\n    this.httpClientService = httpClientService;\n  }\n\n  create(product, successCallBack, errorCallback) {\n    this.httpClientService.post({\n      controller: 'Products'\n    }, product).subscribe(result => {\n      successCallBack();\n    }, errorResponse => {\n      const _error = errorResponse.error;\n      let message = '';\n\n      _error.forEach((keyValuePair, index) => {\n        keyValuePair.value.forEach((_v, _index) => {\n          message += `${_v}<br>`;\n        });\n      });\n\n      errorCallback(message);\n    });\n  }\n\n  read(page = 0, size = 5, successCallBack, errorCallback) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const promiseData = _this.httpClientService.get({\n        controller: 'Products',\n        queryString: `page=${page}&size=${size}`\n      }).toPromise();\n\n      promiseData.then(response => {\n        successCallBack();\n      }).catch(errorResponse => {\n        errorCallback(errorResponse.message);\n      });\n      return yield promiseData;\n    })();\n  }\n\n  update(product) {}\n\n  delete(product) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const deleteObservable$ = _this2.httpClientService.delete({\n        controller: 'Products'\n      }, product);\n\n      yield firstValueFrom(deleteObservable$);\n    })();\n  }\n\n}\n\nProductService.ɵfac = function ProductService_Factory(t) {\n  return new (t || ProductService)(i0.ɵɵinject(i1.HttpClientService));\n};\n\nProductService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProductService,\n  factory: ProductService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["I:/Projects/NetCore/CoreGularECommerce/CoreGularECommerce.UI/src/app/services/common/models/product.service.ts"],"names":["firstValueFrom","i0","i1","ProductService","constructor","httpClientService","create","product","successCallBack","errorCallback","post","controller","subscribe","result","errorResponse","_error","error","message","forEach","keyValuePair","index","value","_v","_index","read","page","size","promiseData","get","queryString","toPromise","then","response","catch","update","delete","deleteObservable$","ɵfac","ProductService_Factory","t","ɵɵinject","HttpClientService","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":";AAAA,SAASA,cAAT,QAA+B,MAA/B;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,wBAApB;AACA,OAAO,MAAMC,cAAN,CAAqB;AACxBC,EAAAA,WAAW,CAACC,iBAAD,EAAoB;AAC3B,SAAKA,iBAAL,GAAyBA,iBAAzB;AACH;;AACDC,EAAAA,MAAM,CAACC,OAAD,EAAUC,eAAV,EAA2BC,aAA3B,EAA0C;AAC5C,SAAKJ,iBAAL,CAAuBK,IAAvB,CAA4B;AACxBC,MAAAA,UAAU,EAAE;AADY,KAA5B,EAEGJ,OAFH,EAEYK,SAFZ,CAEsBC,MAAM,IAAI;AAC5BL,MAAAA,eAAe;AAClB,KAJD,EAIIM,aAAD,IAAmB;AAClB,YAAMC,MAAM,GAAGD,aAAa,CAACE,KAA7B;AACA,UAAIC,OAAO,GAAG,EAAd;;AACAF,MAAAA,MAAM,CAACG,OAAP,CAAe,CAACC,YAAD,EAAeC,KAAf,KAAyB;AACpCD,QAAAA,YAAY,CAACE,KAAb,CAAmBH,OAAnB,CAA2B,CAACI,EAAD,EAAKC,MAAL,KAAgB;AACvCN,UAAAA,OAAO,IAAK,GAAEK,EAAG,MAAjB;AACH,SAFD;AAGH,OAJD;;AAKAb,MAAAA,aAAa,CAACQ,OAAD,CAAb;AACH,KAbD;AAcH;;AACKO,EAAAA,IAAI,CAACC,IAAI,GAAG,CAAR,EAAWC,IAAI,GAAG,CAAlB,EAAqBlB,eAArB,EAAsCC,aAAtC,EAAqD;AAAA;;AAAA;AAC3D,YAAMkB,WAAW,GAAG,KAAI,CAACtB,iBAAL,CAAuBuB,GAAvB,CAA2B;AAC3CjB,QAAAA,UAAU,EAAE,UAD+B;AAE3CkB,QAAAA,WAAW,EAAG,QAAOJ,IAAK,SAAQC,IAAK;AAFI,OAA3B,EAGjBI,SAHiB,EAApB;;AAIAH,MAAAA,WAAW,CACNI,IADL,CACUC,QAAQ,IAAI;AAClBxB,QAAAA,eAAe;AAClB,OAHD,EAIKyB,KAJL,CAIYnB,aAAD,IAAmB;AAC1BL,QAAAA,aAAa,CAACK,aAAa,CAACG,OAAf,CAAb;AACH,OAND;AAOA,mBAAaU,WAAb;AAZ2D;AAa9D;;AACDO,EAAAA,MAAM,CAAC3B,OAAD,EAAU,CACf;;AACK4B,EAAAA,MAAM,CAAC5B,OAAD,EAAU;AAAA;;AAAA;AAClB,YAAM6B,iBAAiB,GAAG,MAAI,CAAC/B,iBAAL,CAAuB8B,MAAvB,CAA8B;AACpDxB,QAAAA,UAAU,EAAE;AADwC,OAA9B,EAEvBJ,OAFuB,CAA1B;;AAGA,YAAMP,cAAc,CAACoC,iBAAD,CAApB;AAJkB;AAKrB;;AAzCuB;;AA2C5BjC,cAAc,CAACkC,IAAf,GAAsB,SAASC,sBAAT,CAAgCC,CAAhC,EAAmC;AAAE,SAAO,KAAKA,CAAC,IAAIpC,cAAV,EAA0BF,EAAE,CAACuC,QAAH,CAAYtC,EAAE,CAACuC,iBAAf,CAA1B,CAAP;AAAsE,CAAjI;;AACAtC,cAAc,CAACuC,KAAf,GAAuB,aAAczC,EAAE,CAAC0C,kBAAH,CAAsB;AAAEC,EAAAA,KAAK,EAAEzC,cAAT;AAAyB0C,EAAAA,OAAO,EAAE1C,cAAc,CAACkC,IAAjD;AAAuDS,EAAAA,UAAU,EAAE;AAAnE,CAAtB,CAArC","sourcesContent":["import { firstValueFrom } from \"rxjs\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../http-client.service\";\r\nexport class ProductService {\r\n    constructor(httpClientService) {\r\n        this.httpClientService = httpClientService;\r\n    }\r\n    create(product, successCallBack, errorCallback) {\r\n        this.httpClientService.post({\r\n            controller: 'Products'\r\n        }, product).subscribe(result => {\r\n            successCallBack();\r\n        }, (errorResponse) => {\r\n            const _error = errorResponse.error;\r\n            let message = '';\r\n            _error.forEach((keyValuePair, index) => {\r\n                keyValuePair.value.forEach((_v, _index) => {\r\n                    message += `${_v}<br>`;\r\n                });\r\n            });\r\n            errorCallback(message);\r\n        });\r\n    }\r\n    async read(page = 0, size = 5, successCallBack, errorCallback) {\r\n        const promiseData = this.httpClientService.get({\r\n            controller: 'Products',\r\n            queryString: `page=${page}&size=${size}`\r\n        }).toPromise();\r\n        promiseData\r\n            .then(response => {\r\n            successCallBack();\r\n        })\r\n            .catch((errorResponse) => {\r\n            errorCallback(errorResponse.message);\r\n        });\r\n        return await promiseData;\r\n    }\r\n    update(product) {\r\n    }\r\n    async delete(product) {\r\n        const deleteObservable$ = this.httpClientService.delete({\r\n            controller: 'Products'\r\n        }, product);\r\n        await firstValueFrom(deleteObservable$);\r\n    }\r\n}\r\nProductService.ɵfac = function ProductService_Factory(t) { return new (t || ProductService)(i0.ɵɵinject(i1.HttpClientService)); };\r\nProductService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: ProductService, factory: ProductService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}